(this["webpackJsonptabacco-navi"]=this["webpackJsonptabacco-navi"]||[]).push([[0],{144:function(e,t,n){},145:function(e,t,n){"use strict";n.r(t);var c=n(2),o=n(0),a=n.n(o),r=n(12),s=n.n(r),i=n(13),l=n(42),d=n.n(l),j=function(e){return d.a.post("/api/shops",e).then((function(e){return e.data}))},u=function(){return d.a.get("/api/genres").then((function(e){return e.data.genre.map((function(e){return{code:e.code,label:e.name}}))}))},b=n(189),m=n(192),h=n(100),O=n(194),f=n(89),x=n.n(f),p=Object(b.a)((function(e){return{root:{flexGrow:1},bar:{backgroundColor:"#dde5b6",color:"#6c584c",bottom:"auto",top:0},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,fontSize:"2rem"}}})),g=function(){console.log("Header");var e=p();return Object(c.jsx)("div",{className:e.bar,children:Object(c.jsxs)(m.a,{children:[Object(c.jsx)(O.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(c.jsx)(x.a,{})}),Object(c.jsx)(h.a,{variant:"h6",className:e.title,children:"Yaninavi"})]})})},v=n(195),S=Object(b.a)((function(){return{bar:{top:"auto",bottom:0,color:"#6c584c",backgroundColor:"#dde5b6"},title:{textAlign:"center",margin:"0 2em",paddingTop:"1em",paddingBottom:"1em"},icon:{color:"#a98467"}}})),w=function(){var e=S();return Object(c.jsx)(v.a,{className:e.bar,children:Object(c.jsx)("div",{className:e.title,children:Object(c.jsxs)(h.a,{children:["Produced by Ips.k ",Object(c.jsx)("br",{}),"Powered by ",Object(c.jsx)("a",{href:"http://webservice.recruit.co.jp/",className:e.icon,children:"\u30db\u30c3\u30c8\u30da\u30c3\u30d1\u30fc Web\u30b5\u30fc\u30d3\u30b9"})]})})})},y=n(222),C=Object(b.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),Z=function(e){var t=C();return Object(c.jsx)("div",{children:Object(c.jsx)(y.a,{className:t.formControl,value:e.searchKeyword,onChange:function(t){e.setSearchKeyword(t.target.value)},placeholder:"Keyword"})})},N=n(202),k=n(90),T=n.n(k),L=n(91),W=n.n(L),z=n(221),B=n(200),G=n(220),M=n(95),F=n(201),E=Object(M.a)({overrides:{MuiFab:{root:{backgroundColor:"#fff"}}}}),I=Object(M.a)({overrides:{MuiFab:{root:{backgroundColor:"#5D8017"}}}}),K=Object(b.a)((function(){return{box:{marginTop:"8px"},button:{margin:0,top:"auto",right:20,bottom:140,left:"auto",position:"fixed",zIndex:2}}})),R=function(e){var t=K(),n=Object(o.useState)("default"),a=Object(i.a)(n,2),r=a[0],s=a[1],l=Object(o.useState)(!1),d=Object(i.a)(l,2),j=d[0],u=d[1],b=function(){u(!1)};return setTimeout(b,5e3),Object(c.jsxs)("div",{className:t.box,children:[Object(c.jsx)("div",{children:"default"!==r&&("lodding"==r?Object(c.jsx)(B.a,{}):"get"==r?Object(c.jsx)(z.a,{open:j,onClose:b,message:"\u4f4d\u7f6e\u60c5\u5831\u3092\u53d6\u5f97\u3057\u307e\u3057\u305f"},r):Object(c.jsx)(G.a,{severity:"error",children:"\uff08Failed\uff09\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f \u4f4d\u7f6e\u60c5\u5831\u306e\u8a2d\u5b9a\u3092\u78ba\u8a8d\u5f8c\u3001\u518d\u5ea6\u5b9f\u884c\u3092\u304a\u9858\u3044\u3044\u305f\u3057\u307e\u3059\u3002"}))}),""!==e.searchLat?Object(c.jsx)(F.a,{theme:E,children:Object(c.jsx)(N.a,{className:t.button,size:"medium",onClick:function(){e.setSearchLat(""),e.setSearchLng(""),s("default")},children:Object(c.jsx)(T.a,{})})}):Object(c.jsx)(F.a,{theme:I,children:Object(c.jsx)(N.a,{className:t.button,size:"medium",onClick:function(){s("lodding"),navigator.geolocation.getCurrentPosition((function(t){console.log(t.coords.latitude),console.log(t.coords.longitude);var n=t.coords.latitude,c=t.coords.longitude;e.setSearchLat(n),e.setSearchLng(c),s("get"),u(!0)}))},children:Object(c.jsx)(W.a,{color:"error"})})})]})},_=n(203),D=Object(b.a)((function(){return{button:{backgroundColor:"#adc178",color:"#6c584c",marginTop:"8px"}}})),P=function(){var e=D();return Object(c.jsx)(_.a,{variant:"contained",type:"submit",className:e.button,children:"Search"})},A=n(219),H=n(224),J=n(198),q=n(223),Y=Object(b.a)((function(e){return{selectControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),Q=function(e){var t=Y(),n=e.genres;return Object(c.jsx)("div",{children:Object(c.jsxs)(J.a,{className:t.selectControl,children:[Object(c.jsx)(q.a,{id:"demo-simple-select-label",children:"Genre"}),Object(c.jsxs)(A.a,{value:e.searchGenre,onChange:function(t){e.setSearchGenre(t.target.value)},children:[Object(c.jsx)(H.a,{value:"",children:"-"},"delete"),n.map((function(e){return Object(c.jsx)(H.a,{value:e,children:e.label},e.label)}))]})]})})},U=Object(b.a)((function(e){return{root:{flexWrap:"wrap"},font:{color:"#9980CB"}}})),V=function(e){var t=U();return Object(c.jsxs)("div",{children:[Object(c.jsx)(h.a,{className:t.font,children:""==e.searchLat?"":"Search by now location"}),"Keyword:",Object(c.jsx)(h.a,{className:t.font,children:e.searchKeyword}),"Genre:",Object(c.jsx)(h.a,{className:t.font,children:e.searchGenre.label})]})},X=n(96),$=[{code:"Z011",name:"\u6771\u4eac"},{code:"Z012",name:"\u795e\u5948\u5ddd"},{code:"Z013",name:"\u57fc\u7389"},{code:"Z014",name:"\u5343\u8449"},{code:"Z015",name:"\u8328\u57ce"},{code:"Z016",name:"\u6803\u6728"},{code:"Z017",name:"\u7fa4\u99ac"},{code:"Z021",name:"\u6ecb\u8cc0"},{code:"Z022",name:"\u4eac\u90fd"},{code:"Z023",name:"\u5927\u962a"},{code:"Z024",name:"\u5175\u5eab"},{code:"Z025",name:"\u5948\u826f"},{code:"Z026",name:"\u548c\u6b4c\u5c71"},{code:"Z031",name:"\u5c90\u961c"},{code:"Z032",name:"\u9759\u5ca1"},{code:"Z033",name:"\u611b\u77e5"},{code:"Z034",name:"\u4e09\u91cd"},{code:"Z041",name:"\u5317\u6d77\u9053"},{code:"Z051",name:"\u9752\u68ee"},{code:"Z052",name:"\u5ca9\u624b"},{code:"Z053",name:"\u5bae\u57ce"},{code:"Z054",name:"\u79cb\u7530"},{code:"Z055",name:"\u5c71\u5f62"},{code:"Z056",name:"\u798f\u5cf6"},{code:"Z061",name:"\u65b0\u6f5f"},{code:"Z062",name:"\u5bcc\u5c71"},{code:"Z063",name:"\u77f3\u5ddd"},{code:"Z064",name:"\u798f\u4e95"},{code:"Z065",name:"\u5c71\u68a8"},{code:"Z066",name:"\u9577\u91ce"},{code:"Z071",name:"\u9ce5\u53d6"},{code:"Z072",name:"\u5cf6\u6839"},{code:"Z073",name:"\u5ca1\u5c71"},{code:"Z074",name:"\u5e83\u5cf6"},{code:"Z075",name:"\u5c71\u53e3"},{code:"Z081",name:"\u5fb3\u5cf6"},{code:"Z082",name:"\u9999\u5ddd"},{code:"Z083",name:"\u611b\u5a9b"},{code:"Z084",name:"\u9ad8\u77e5"},{code:"Z091",name:"\u798f\u5ca1"},{code:"Z092",name:"\u4f50\u8cc0"},{code:"Z093",name:"\u9577\u5d0e"},{code:"Z094",name:"\u718a\u672c"},{code:"Z095",name:"\u5927\u5206"},{code:"Z096",name:"\u5bae\u5d0e"},{code:"Z097",name:"\u9e7f\u5150\u5cf6"},{code:"Z098",name:"\u6c96\u7e04"}],ee=function(e){return d.a.post("/api/areas",e).then((function(e){return e.data.middle_area}))},te=n(225),ne=n(92),ce=n.n(ne),oe=Object(b.a)((function(e){return{root:{minWidth:150,height:224},form:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex",margin:e.spacing(1)},title:{marginBottom:"2em",textAlign:"center"},select:{width:"50%"},text:{width:"50%"}}})),ae=function(e){var t=oe(),n=Object(o.useState)([]),a=Object(i.a)(n,2),r=a[0],s=a[1],l=Object(o.useState)(""),d=Object(i.a)(l,2),j=d[0],u=d[1],b=e.selectMiddle,m=function(t){if(1==b.length)e.setSelectMiddle([]);else{var n=Object(X.a)(b);n.splice(t,1),e.setSelectMiddle(n)}console.table(b)};return console.table(b),Object(c.jsxs)("div",{className:t.root,children:[Object(c.jsx)(O.a,{onClick:function(){e.setDrawState(!1)},children:Object(c.jsx)(ce.a,{})}),Object(c.jsx)(h.a,{className:t.title,children:"select area"}),0!==b.length&&Object(c.jsx)("div",{children:b.map((function(e,t){return Object(c.jsx)(te.a,{size:"small",label:e.name,onDelete:function(){return m(t)},color:"primary"},t)}))}),Object(c.jsxs)(J.a,{className:t.form,children:[Object(c.jsx)(q.a,{children:"Prefecture"}),Object(c.jsxs)(A.a,{className:t.select,value:j,onChange:function(e){u(e.target.value)},children:[Object(c.jsx)(H.a,{value:"",children:"-"},"delete"),$.map((function(e){return Object(c.jsx)(H.a,{value:e.code,children:e.name},e.name)}))]}),Object(c.jsx)(y.a,{className:t.text,id:"standard-basic",label:"city",onChange:function(e){var t=e.target.value;ee({large_area:j,keyword:"".concat(t)}).then((function(e){s(e)}))}}),0!==r.length&&Object(c.jsx)("div",{children:r.map((function(t){return Object(c.jsx)(te.a,{variant:"outlined",size:"small",label:t.name,onClick:function(){return n=t,void e.setSelectMiddle(b.concat(n));var n},color:"primary"},t.code)}))})]})]})},re=n(204),se=Object(b.a)((function(){return{searchForm:{textAlign:"center"},Form:{},buttonStyle:{marginLeft:"auto",marginRight:"auto"},button:{backgroundColor:"#E0794C",color:"#6c584c",marginTop:"8px"}}})),ie=function(e){console.log("Form");var t=Object(o.useState)(""),n=Object(i.a)(t,2),a=n[0],r=n[1],s=Object(o.useState)(""),l=Object(i.a)(s,2),d=l[0],j=l[1],u=Object(o.useState)(""),b=Object(i.a)(u,2),m=b[0],h=b[1],O=Object(o.useState)([]),f=Object(i.a)(O,2),x=f[0],p=f[1],g=Object(o.useState)([]),v=Object(i.a)(g,2),S=v[0],w=v[1],y=Object(o.useState)(!1),C=Object(i.a)(y,2),N=C[0],k=C[1],T=se(),L=S.map((function(e){return e.code}));return Object(c.jsxs)("div",{className:T.searchForm,children:[Object(c.jsx)(V,{searchKeyword:a,searchLat:d,searchGenre:x}),Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.postWord({keyword:a,genre:x.code,lat:d,lng:m,middle_area:L})},className:T.Form,children:[Object(c.jsx)(Q,{genres:e.genres,setSearchGenre:p,searchGenre:x}),Object(c.jsx)(Z,{setSearchKeyword:r,searchKeyword:a}),Object(c.jsx)(R,{setSearchLat:j,setSearchLng:h,searchLat:d}),Object(c.jsxs)("div",{className:T.buttonStyle,children:[Object(c.jsx)(P,{})," \xa0",Object(c.jsx)(_.a,{variant:"contained",onClick:function(){r(""),j(""),h(""),p([]),w([])},className:T.button,children:"Delete"})]}),Object(c.jsx)(_.a,{onClick:function(){return k(!0)},children:"Select Area"}),Object(c.jsx)(re.a,{open:N,onClose:function(){return k(!1)},children:Object(c.jsx)(ae,{selectMiddle:S,setSelectMiddle:w,setDrawState:k})})]})]})},le=function(e){var t=e.message;return null===t?null:Object(c.jsx)("div",{className:"error",children:Object(c.jsx)(G.a,{severity:"warning",children:t})})},de=n(97),je=n(205),ue=n(209),be=n(207),me=n(208),he=n(206),Oe=n(146),fe={icon:{color:"#6c584c"}},xe=a.a.forwardRef((function(e,t){return Object(c.jsx)(Oe.a,Object(de.a)({direction:"up",ref:t},e))})),pe=function(e){var t=e.shop,n=e.open,o=e.openShopIndex,a="https://maps.google.com/maps?q=".concat(t[o].lat,",").concat(t[o].lng);return Object(c.jsxs)(je.a,{TransitionComponent:xe,keepMounted:!0,onClose:e.handleClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",maxWidth:"xl",fullwidth:"true",open:n,children:[Object(c.jsx)(he.a,{id:"alert-dialog-slide-title",children:t[o].name}),Object(c.jsx)(be.a,{children:Object(c.jsxs)(me.a,{id:"alert-dialog-slide-description",children:["\u4f4f\u6240\uff1a",t[o].address," \xa0",Object(c.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",style:fe.icon,children:"\u2192googleMap"}),Object(c.jsx)("br",{}),"\u55b6\u696d\u6642\u9593\uff1a",t[o].open," ",Object(c.jsx)("br",{}),"wifi\uff1a",t[o].wifi]})}),Object(c.jsx)(ue.a,{children:Object(c.jsx)(h.a,{children:Object(c.jsx)("a",{id:"urlButton",href:t[o].urls.pc,target:"_blank",rel:"noopener noreferrer",style:fe.icon,children:"\u2192HotPepper"})})})]})},ge=n(210),ve=n(212),Se=n(211),we=n(213),ye=Object(b.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:"#fff"},gridList:{width:1e3,paddingBottom:300},tile:{border:"solid 0.1em #dde5b6"},icon:{color:"#a98467"},button:{color:"#fff"}}})),Ce=function(e){console.log("Show");var t=ye(),n=Object(o.useState)(!1),a=Object(i.a)(n,2),r=a[0],s=a[1],l=Object(o.useState)(0),d=Object(i.a)(l,2),j=d[0],u=d[1],b=e.shops;return Object(c.jsxs)("div",{className:t.root,children:[Object(c.jsxs)(ge.a,{cellHeight:150,className:t.gridList,spacing:5,cols:4,children:[Object(c.jsx)(Se.a,{cols:4,style:{height:"auto"},children:Object(c.jsxs)(ve.a,{component:"div",children:["Smoking shops \xa0 Result",b.length]})}),b.map((function(e,n){return Object(c.jsxs)(Se.a,{className:t.tile,children:[Object(c.jsx)("img",{srcSet:e.photo.pc.l,alt:e.name}),Object(c.jsx)(we.a,{title:e.name,actionIcon:Object(c.jsx)(_.a,{onClick:function(){return function(e){s(!0),u(e)}(n)},className:t.button,children:"\u8a73\u7d30"})})]},e.id)}))]}),Object(c.jsx)(pe,{shop:b,open:r,openShopIndex:j,handleClose:function(){s(!1),u(0)}})]})},Ze=n(214),Ne=n(215),ke=n(217),Te=n(216),Le=n(93),We=n.n(Le),ze=Object(b.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",marginTop:"8px"},icon:{color:"#004d40"},cover:{width:80,height:80},details:{width:"calc(100% - 80px)",flexWrap:"nowrap",overflow:"hidden",display:"flex"},content:{textOverflow:"ellipsis",overflow:"hidden"},card:{display:"flex",backgroundColor:"#fff",height:80,marginTop:"0,5em",borderTop:"solid 0.2em #dde5b6",color:"#6c584c"},button:{color:"#ddd",marginLeft:"auto"}}})),Be=function(e){var t=ze(),n=Object(o.useState)(!1),a=Object(i.a)(n,2),r=a[0],s=a[1],l=Object(o.useState)(0),d=Object(i.a)(l,2),j=d[0],u=d[1],b=e.shops;return Object(c.jsxs)("div",{className:t.root,children:[Object(c.jsxs)(Ze.a,{direction:"column",children:[Object(c.jsxs)(h.a,{children:["Smoking shops  Result ",b.length]}),b.map((function(e,n){return Object(c.jsxs)(Ne.a,{className:t.card,children:[Object(c.jsx)(Te.a,{className:t.cover,image:e.photo.pc.l,title:e.name}),Object(c.jsxs)("div",{className:t.details,children:[Object(c.jsx)(ke.a,{className:t.content,children:Object(c.jsx)(h.a,{variant:"subtitle1",children:e.name})}),Object(c.jsx)(O.a,{onClick:function(){return function(e){s(!0),u(e)}(n)},className:t.button,children:Object(c.jsx)(We.a,{})})]})]},e.id)}))]}),Object(c.jsx)(pe,{shop:b,open:r,openShopIndex:j,handleClose:function(){s(!1),u(0)}})]})},Ge=function(e){var t=e.shops,n=Object(o.useState)(window.innerWidth),a=Object(i.a)(n,2),r=a[0],s=a[1],l=function(){s(window.innerWidth)};return Object(o.useEffect)((function(){return window.addEventListener("resize",l,{capture:!1,passive:!0}),function(){return window.removeEventListener("resize",l)}})),r<768?Object(c.jsx)(Be,{shops:t}):Object(c.jsx)(Ce,{shops:t})},Me=n(94),Fe=n.n(Me),Ee=function(e){return Object(c.jsx)(N.a,{style:{margin:0,top:"auto",right:20,bottom:80,left:"auto",position:"fixed",backgroundColor:"#ddd"},size:"medium",onClick:function(){console.log(e.refTop.current);var t=e.refTop.current.getBoundingClientRect().top;window.scrollTo({top:t,behavior:"smooth"})},children:Object(c.jsx)(Fe.a,{})})},Ie=n(218),Ke=(n(144),Object(M.a)({typography:{fontFamily:"'Corben', sans-serif"}})),Re=Object(b.a)((function(){return{root:{backgroundColor:"#fff",minHeight:"100vh",backgroundRepeat:"repeat-y",backgroundSize:"5%"},bodyContainer:{color:"#6c584c",marginTop:"2em"},bodyContent:{textAlign:"center",fontSize:"3rem"},shopBox:{paddingTop:"8px",margin:"0 2em 6em",backgroundColor:"#fff"}}})),_e=function(){console.log("app");var e=Object(o.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)([]),s=Object(i.a)(r,2),l=s[0],d=s[1],b=Object(o.useState)(null),m=Object(i.a)(b,2),O=m[0],f=m[1],x=Object(o.useRef)(),p=Re();Object(o.useEffect)((function(){u().then((function(e){d(e)}))}),[]);return Object(c.jsxs)("div",{className:p.root,children:[Object(c.jsxs)(F.a,{theme:Ke,children:[Object(c.jsx)("div",{display:"none",ref:x}),Object(c.jsx)(g,{}),Object(c.jsxs)(Ie.a,{className:p.bodyContainer,children:[Object(c.jsx)(le,{message:O}),Object(c.jsx)(ie,{postWord:function(e){console.log(e),j(e).then((function(e){var t=e.filter((function(e){return"\u5168\u9762\u7981\u7159"!==e.non_smoking}));0===t.length?a(null):a(t);var n=t.map((function(e){return e.non_smoking}));console.log(n)})).catch((function(e){f("Please include at least one condition."),setTimeout((function(){f(null)}),5e3)}))},genres:l})]}),Object(c.jsx)("div",{className:p.shopBox,children:null!==n?0==n.length?Object(c.jsx)(h.a,{className:p.bodyContent,children:"Should I smoke or not, should smoke"}):Object(c.jsx)(Ge,{shops:n}):Object(c.jsx)(h.a,{className:p.bodyContent,children:"Sorry! don't find shop..."})}),Object(c.jsx)(w,{})]}),Object(c.jsx)(Ee,{refTop:x})]})};s.a.render(Object(c.jsx)(_e,{}),document.getElementById("root"))}},[[145,1,2]]]);
//# sourceMappingURL=main.fced8ea6.chunk.js.map