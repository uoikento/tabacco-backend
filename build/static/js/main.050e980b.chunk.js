(this["webpackJsonptabacco-navi"]=this["webpackJsonptabacco-navi"]||[]).push([[0],{131:function(e,t,n){},132:function(e,t,n){"use strict";n.r(t);var c=n(3),o=n(0),r=n.n(o),a=n(11),s=n.n(a),i=n(13),l=n(52),d=n.n(l),j=function(e){return d.a.post("/api/shops",e).then((function(e){return e.data}))},b=function(){return d.a.get("/api/genres").then((function(e){return e.data.genre.map((function(e){return{code:e.code,label:e.name}}))}))},u=n(178),h=n(181),O=n(89),f=n(183),m=n(80),p=n.n(m),x=Object(u.a)((function(e){return{root:{flexGrow:1},bar:{backgroundColor:"#dde5b6",color:"#6c584c",bottom:"auto",top:0},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,fontSize:"2rem"}}})),g=function(){var e=x();return Object(c.jsx)("div",{className:e.bar,children:Object(c.jsxs)(h.a,{children:[Object(c.jsx)(f.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(c.jsx)(p.a,{})}),Object(c.jsx)(O.a,{variant:"h6",className:e.title,children:"Yaninavi"})]})})},v=n(184),w=Object(u.a)((function(){return{bar:{top:"auto",bottom:0,color:"#6c584c",backgroundColor:"#dde5b6"},title:{textAlign:"center",margin:"0 2em",paddingTop:"1em",paddingBottom:"1em"},icon:{color:"#a98467"}}})),y=function(){var e=w();return Object(c.jsx)(v.a,{className:e.bar,children:Object(c.jsx)("div",{className:e.title,children:Object(c.jsxs)(O.a,{children:["Produced by Ips.k ",Object(c.jsx)("br",{}),"Powered by ",Object(c.jsx)("a",{href:"http://webservice.recruit.co.jp/",className:e.icon,children:"\u30db\u30c3\u30c8\u30da\u30c3\u30d1\u30fc Web\u30b5\u30fc\u30d3\u30b9"})]})})})},C=n(212),S=Object(u.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),N=function(e){var t=S();return Object(c.jsx)("div",{children:Object(c.jsx)(C.a,{className:t.formControl,value:e.searchKeyword,onChange:function(t){e.setSearchKeyword(t.target.value)},placeholder:"Keyword"})})},k=n(191),T=n(81),L=n.n(T),W=n(82),B=n.n(W),G=n(210),z=n(189),E=n(208),F=n(85),I=n(190),K=Object(F.a)({overrides:{MuiFab:{root:{backgroundColor:"#fff"}}}}),R=Object(F.a)({overrides:{MuiFab:{root:{backgroundColor:"#5D8017"}}}}),P=Object(u.a)((function(){return{box:{marginTop:"8px"},button:{margin:0,top:"auto",right:20,bottom:140,left:"auto",position:"fixed",zIndex:2}}})),M=function(e){var t=P(),n=Object(o.useState)("default"),r=Object(i.a)(n,2),a=r[0],s=r[1],l=Object(o.useState)(!1),d=Object(i.a)(l,2),j=d[0],b=d[1],u=function(){b(!1)};return setTimeout(u,5e3),Object(c.jsxs)("div",{className:t.box,children:[Object(c.jsx)("div",{children:"default"!==a?"lodding"==a?Object(c.jsx)(z.a,{}):"get"==a?Object(c.jsx)(G.a,{open:j,onClose:u,message:"\u4f4d\u7f6e\u60c5\u5831\u3092\u53d6\u5f97\u3057\u307e\u3057\u305f"},a):Object(c.jsx)(E.a,{severity:"error",children:"\uff08Failed\uff09\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f \u4f4d\u7f6e\u60c5\u5831\u306e\u8a2d\u5b9a\u3092\u78ba\u8a8d\u5f8c\u3001\u518d\u5ea6\u5b9f\u884c\u3092\u304a\u9858\u3044\u3044\u305f\u3057\u307e\u3059\u3002"}):Object(c.jsx)("p",{})}),""!==e.searchLat?Object(c.jsx)(I.a,{theme:K,children:Object(c.jsx)(k.a,{className:t.button,size:"medium",onClick:function(){e.setSearchLat(""),e.setSearchLng(""),s("default")},children:Object(c.jsx)(L.a,{})})}):Object(c.jsx)(I.a,{theme:R,children:Object(c.jsx)(k.a,{className:t.button,size:"medium",onClick:function(){s("lodding"),navigator.geolocation.getCurrentPosition((function(t){console.log(t.coords.latitude),console.log(t.coords.longitude);var n=t.coords.latitude,c=t.coords.longitude;e.setSearchLat(n),e.setSearchLng(c),s("get"),b(!0)}))},children:Object(c.jsx)(B.a,{color:"error"})})})]})},_=n(192),A=Object(u.a)((function(){return{button:{backgroundColor:"#adc178",color:"#6c584c",marginTop:"8px"}}})),D=function(){var e=A();return Object(c.jsx)(_.a,{variant:"contained",type:"submit",className:e.button,children:"Search"})},H=n(207),J=n(214),q=n(187),Y=n(213),Q=Object(u.a)((function(e){return{selectControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),U=function(e){var t=Q(),n=e.genres;return Object(c.jsx)("div",{children:Object(c.jsxs)(q.a,{className:t.selectControl,children:[Object(c.jsx)(Y.a,{id:"demo-simple-select-label",children:"Genre"}),Object(c.jsxs)(H.a,{value:e.searchGenre,onChange:function(t){e.setSearchGenre(t.target.value)},children:[Object(c.jsx)(J.a,{value:"",children:"-"},"delete"),n.map((function(e){return Object(c.jsx)(J.a,{value:e,children:e.label},e.label)}))]})]})})},V=Object(u.a)((function(e){return{root:{flexWrap:"wrap"},font:{color:"#9980CB"}}})),X=function(e){var t=V();return Object(c.jsxs)("div",{children:[Object(c.jsx)(O.a,{className:t.font,children:""==e.searchLat?"":"Search by now location"}),"Keyword:",Object(c.jsx)(O.a,{className:t.font,children:e.searchKeyword}),"Genre:",Object(c.jsx)(O.a,{className:t.font,children:e.searchGenre.label})]})},Z=Object(u.a)((function(){return{searchForm:{textAlign:"center"},Form:{},buttonStyle:{marginLeft:"auto",marginRight:"auto"},button:{backgroundColor:"#E0794C",color:"#6c584c",marginTop:"8px"}}})),$=function(e){var t=Object(o.useState)(""),n=Object(i.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(""),l=Object(i.a)(s,2),d=l[0],j=l[1],b=Object(o.useState)(""),u=Object(i.a)(b,2),h=u[0],O=u[1],f=Object(o.useState)([]),m=Object(i.a)(f,2),p=m[0],x=m[1],g=Z();return Object(c.jsxs)("div",{className:g.searchForm,children:[Object(c.jsx)(X,{searchKeyword:r,searchLat:d,searchGenre:p}),Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.postWord({keyword:r,genre:p.code,lat:d,lng:h})},className:g.Form,children:[Object(c.jsx)(U,{genres:e.genres,setSearchGenre:x,searchGenre:p}),Object(c.jsx)(N,{setSearchKeyword:a,searchKeyword:r}),Object(c.jsx)(M,{setSearchLat:j,setSearchLng:O,searchLat:d}),Object(c.jsxs)("div",{className:g.buttonStyle,children:[Object(c.jsx)(D,{})," \xa0",Object(c.jsx)(_.a,{variant:"contained",onClick:function(){a(""),x(""),j(""),O("")},className:g.button,children:"Delete"})]})]})]})},ee=function(e){var t=e.message;return null===t?null:Object(c.jsx)("div",{className:"error",children:Object(c.jsx)(E.a,{severity:"warning",children:t})})},te=n(86),ne=n(211),ce=n(197),oe=n(195),re=n(196),ae=n(194),se=n(193),ie={icon:{color:"#6c584c"}},le=r.a.forwardRef((function(e,t){return Object(c.jsx)(se.a,Object(te.a)({direction:"up",ref:t},e))})),de=function(e){var t=e.shop,n=e.open,o=e.openShopIndex,r="https://maps.google.com/maps?q=".concat(t[o].lat,",").concat(t[o].lng);return Object(c.jsxs)(ne.a,{TransitionComponent:le,keepMounted:!0,onClose:e.handleClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",maxWidth:"xl",fullwidth:"true",open:n,children:[Object(c.jsx)(ae.a,{id:"alert-dialog-slide-title",children:t[o].name}),Object(c.jsx)(oe.a,{children:Object(c.jsxs)(re.a,{id:"alert-dialog-slide-description",children:["\u4f4f\u6240\uff1a",t[o].address," \xa0",Object(c.jsx)("a",{href:r,target:"_blank",rel:"noopener noreferrer",style:ie.icon,children:"\u2192googleMap"}),Object(c.jsx)("br",{}),"\u55b6\u696d\u6642\u9593\uff1a",t[o].open," ",Object(c.jsx)("br",{}),"wifi\uff1a",t[o].wifi]})}),Object(c.jsx)(ce.a,{children:Object(c.jsx)(O.a,{children:Object(c.jsx)("a",{id:"urlButton",href:t[o].urls.pc,target:"_blank",rel:"noopener noreferrer",style:ie.icon,children:"\u2192HotPepper"})})})]})},je=n(198),be=n(200),ue=n(199),he=n(201),Oe=Object(u.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:"#fff"},gridList:{width:1e3,paddingBottom:300},tile:{border:"solid 0.1em #dde5b6"},icon:{color:"#a98467"},button:{color:"#fff"}}})),fe=function(e){var t=Oe(),n=Object(o.useState)(!1),r=Object(i.a)(n,2),a=r[0],s=r[1],l=Object(o.useState)(0),d=Object(i.a)(l,2),j=d[0],b=d[1],u=e.shops;return Object(c.jsxs)("div",{className:t.root,children:[Object(c.jsxs)(je.a,{cellHeight:150,className:t.gridList,spacing:5,cols:4,children:[Object(c.jsx)(ue.a,{cols:4,style:{height:"auto"},children:Object(c.jsxs)(be.a,{component:"div",children:["Smoking shops \xa0 Result",u.length]})}),u.map((function(e,n){return Object(c.jsxs)(ue.a,{className:t.tile,children:[Object(c.jsx)("img",{srcSet:e.photo.pc.l,alt:e.name}),Object(c.jsx)(he.a,{title:e.name,actionIcon:Object(c.jsx)(_.a,{onClick:function(){return function(e){s(!0),b(e)}(n)},className:t.button,children:"\u8a73\u7d30"})})]},e.id)}))]}),Object(c.jsx)(de,{shop:u,open:a,openShopIndex:j,handleClose:function(){s(!1),b(0)}})]})},me=n(202),pe=n(203),xe=n(205),ge=n(204),ve=n(83),we=n.n(ve),ye=Object(u.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",marginTop:"8px"},icon:{color:"#004d40"},cover:{width:80,height:80},details:{width:"calc(100% - 80px)",flexWrap:"nowrap",overflow:"hidden",display:"flex"},content:{textOverflow:"ellipsis",overflow:"hidden"},card:{display:"flex",backgroundColor:"#fff",height:80,marginTop:"0,5em",borderTop:"solid 0.2em #dde5b6",color:"#6c584c"},button:{color:"#ddd",marginLeft:"auto"}}})),Ce=function(e){var t=ye(),n=Object(o.useState)(!1),r=Object(i.a)(n,2),a=r[0],s=r[1],l=Object(o.useState)(0),d=Object(i.a)(l,2),j=d[0],b=d[1],u=e.shops;return Object(c.jsxs)("div",{className:t.root,children:[Object(c.jsxs)(me.a,{direction:"column",children:[Object(c.jsxs)(O.a,{children:["Smoking shops  Result ",u.length]}),u.map((function(e,n){return Object(c.jsxs)(pe.a,{className:t.card,children:[Object(c.jsx)(ge.a,{className:t.cover,image:e.photo.pc.l,title:e.name}),Object(c.jsxs)("div",{className:t.details,children:[Object(c.jsx)(xe.a,{className:t.content,children:Object(c.jsx)(O.a,{variant:"subtitle1",children:e.name})}),Object(c.jsx)(f.a,{onClick:function(){return function(e){s(!0),b(e)}(n)},className:t.button,children:Object(c.jsx)(we.a,{})})]})]},e.id)}))]}),Object(c.jsx)(de,{shop:u,open:a,openShopIndex:j,handleClose:function(){s(!1),b(0)}})]})},Se=function(e){var t=e.shops,n=Object(o.useState)(window.innerWidth),r=Object(i.a)(n,2),a=r[0],s=r[1],l=function(){s(window.innerWidth)};return Object(o.useEffect)((function(){return window.addEventListener("resize",l,{capture:!1,passive:!0}),function(){return window.removeEventListener("resize",l)}})),a<768?Object(c.jsx)(Ce,{shops:t}):Object(c.jsx)(fe,{shops:t})},Ne=n(84),ke=n.n(Ne),Te=function(e){return Object(c.jsx)(k.a,{style:{margin:0,top:"auto",right:20,bottom:80,left:"auto",position:"fixed",backgroundColor:"#ddd"},size:"medium",onClick:function(){console.log(e.refTop.current);var t=e.refTop.current.getBoundingClientRect().top;window.scrollTo({top:t,behavior:"smooth"})},children:Object(c.jsx)(ke.a,{})})},Le=n(206),We=(n(131),Object(F.a)({typography:{fontFamily:"'Corben', sans-serif"}})),Be=Object(u.a)((function(){return{root:{backgroundColor:"#fff",minHeight:"100vh",backgroundRepeat:"repeat-y",backgroundSize:"5%"},bodyContainer:{color:"#6c584c",marginTop:"2em"},bodyContent:{textAlign:"center",fontSize:"3rem"},shopBox:{paddingTop:"8px",margin:"0 2em 6em",backgroundColor:"#fff"}}})),Ge=function(){var e=Object(o.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)([]),s=Object(i.a)(a,2),l=s[0],d=s[1],u=Object(o.useState)(null),h=Object(i.a)(u,2),f=h[0],m=h[1],p=Object(o.useRef)(),x=Be();Object(o.useEffect)((function(){b().then((function(e){d(e)}))}),[]);return Object(c.jsxs)("div",{className:x.root,children:[Object(c.jsxs)(I.a,{theme:We,children:[Object(c.jsx)("div",{display:"none",ref:p}),Object(c.jsx)(g,{}),Object(c.jsxs)(Le.a,{className:x.bodyContainer,children:[Object(c.jsx)(ee,{message:f}),Object(c.jsx)($,{postWord:function(e){console.log(e),j(e).then((function(e){var t=e.filter((function(e){return"\u5168\u9762\u7981\u7159"!==e.non_smoking}));0===t.length?r(null):r(t);var n=t.map((function(e){return e.non_smoking}));console.log(n)})).catch((function(e){m("Please include at least one condition."),setTimeout((function(){m(null)}),5e3)}))},genres:l})]}),Object(c.jsx)("div",{className:x.shopBox,children:null!==n?0==n.length?Object(c.jsx)(O.a,{className:x.bodyContent,children:"Should I smoke or not, should smoke"}):Object(c.jsx)(Se,{shops:n}):Object(c.jsx)(O.a,{className:x.bodyContent,children:"Sorry! don't find shop..."})}),Object(c.jsx)(y,{})]}),Object(c.jsx)(Te,{refTop:p})]})};s.a.render(Object(c.jsx)(Ge,{}),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.050e980b.chunk.js.map