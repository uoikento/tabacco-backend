(this["webpackJsonptabacco-navi"]=this["webpackJsonptabacco-navi"]||[]).push([[0],{134:function(e,t,n){},135:function(e,t,n){"use strict";n.r(t);var r=n(3),c=n(0),a=n.n(c),o=n(11),i=n.n(o),s=n(13),l=n(51),j=n.n(l),d=function(e){return j.a.post("/api/shops",e).then((function(e){return e.data}))},b=function(){return j.a.get("/api/genres").then((function(e){return e.data.genre.map((function(e){return{code:e.code,label:e.name}}))}))},u=n(174),h=n(176),O=n(178),p=n(85),f=n(179),x=n(79),g=n.n(x),m=Object(u.a)((function(e){return{root:{flexGrow:1},bar:{backgroundColor:"#fff",color:"#000",bottom:"auto",top:0},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,fontSize:"2rem"}}})),v=function(){var e=m();return Object(r.jsx)("div",{className:"Header",children:Object(r.jsx)(h.a,{position:"static",className:e.bar,children:Object(r.jsxs)(O.a,{children:[Object(r.jsx)(f.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(r.jsx)(g.a,{})}),Object(r.jsx)(p.a,{variant:"h6",className:e.title,children:"Yaninavi"})]})})})},w=Object(u.a)((function(e){return{root:{flexGrow:1},bar:{top:"auto",bottom:0,color:"#000",backgroundColor:"#fff"},you:{paddingRight:4},title:{flexGrow:1}}})),y=function(){var e=w();return Object(r.jsx)("div",{children:Object(r.jsx)(h.a,{className:e.bar,children:Object(r.jsx)("div",{className:e.you,children:Object(r.jsxs)(p.a,{children:["yaninavi ",Object(r.jsx)("br",{}),"Powered by ",Object(r.jsx)("a",{href:"http://webservice.recruit.co.jp/",children:"\u30db\u30c3\u30c8\u30da\u30c3\u30d1\u30fc Web\u30b5\u30fc\u30d3\u30b9"})]})})})})},C=n(208),N=Object(u.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),k=function(e){var t=N();return Object(r.jsx)("div",{children:Object(r.jsx)(C.a,{className:t.formControl,value:e.searchKeyword,onChange:function(t){e.setSearchKeyword(t.target.value)},placeholder:"\u30ad\u30fc\u30ef\u30fc\u30c9"})})},S=n(185),T=n(205),L=n(184),W=n(203),B=Object(u.a)((function(e){return{box:{marginTop:"8px"},button:{backgroundColor:"#004d40"}}})),G=function(e){var t=B(),n=Object(c.useState)("default"),a=Object(s.a)(n,2),o=a[0],i=a[1],l=Object(c.useState)(!1),j=Object(s.a)(l,2),d=j[0],b=j[1],u=function(){b(!1)};return setTimeout(u,5e3),Object(r.jsxs)("div",{className:t.box,children:[Object(r.jsx)("div",{children:"default"!==o?"lodding"==o?Object(r.jsx)(L.a,{}):"get"==o?Object(r.jsx)(T.a,{open:d,onClose:u,message:"\u4f4d\u7f6e\u60c5\u5831\u3092\u53d6\u5f97\u3057\u307e\u3057\u305f"},o):Object(r.jsx)(W.a,{severity:"error",children:"\uff08failed\uff09\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f \u4f4d\u7f6e\u60c5\u5831\u306e\u8a2d\u5b9a\u3092\u78ba\u8a8d\u5f8c\u3001\u518d\u5ea6\u5b9f\u884c\u3092\u304a\u9858\u3044\u3044\u305f\u3057\u307e\u3059\u3002"}):Object(r.jsx)("p",{children:"soon get yani"})}),""!==e.searchLat?Object(r.jsx)(S.a,{variant:"contained",color:"primary",className:t.button,onClick:function(){e.setSearchLat(""),e.setSearchLng(""),i("default")},children:"\u4f4d\u7f6e\u60c5\u5831\u524a\u9664"}):Object(r.jsx)(S.a,{variant:"contained",color:"primary",className:t.button,onClick:function(){i("lodding"),navigator.geolocation.getCurrentPosition((function(t){console.log(t.coords.latitude),console.log(t.coords.longitude);var n=t.coords.latitude,r=t.coords.longitude;e.setSearchLat(n),e.setSearchLng(r),i("get"),b(!0)}))},children:"\u4f4d\u7f6e\u60c5\u5831\u53d6\u5f97"})]})},E=Object(u.a)((function(e){return{box:{marginTop:"8px"},button:{backgroundColor:"#004d40"}}})),R=function(){var e=E();return Object(r.jsx)("div",{className:e.box,children:Object(r.jsx)(S.a,{variant:"contained",color:"primary",type:"submit",className:e.button,children:"\u691c\u7d22"})})},_=n(202),H=n(210),K=n(182),M=n(209),P=Object(u.a)((function(e){return{selectControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),z=function(e){var t=P(),n=e.genres;return Object(r.jsx)("div",{children:Object(r.jsxs)(K.a,{className:t.selectControl,children:[Object(r.jsx)(M.a,{id:"demo-simple-select-label",children:"Genre"}),Object(r.jsxs)(_.a,{value:e.searchGenre,onChange:function(t){e.setSearchGenre(t.target.value)},children:[Object(r.jsx)(H.a,{value:"",children:"-"},"delete"),n.map((function(e){return Object(r.jsx)(H.a,{value:e,children:e.label},e.label)}))]})]})})},D=Object(u.a)((function(){return{searchForm:{textAlign:"center"}}})),F=function(e){var t=Object(c.useState)(""),n=Object(s.a)(t,2),a=n[0],o=n[1],i=Object(c.useState)(""),l=Object(s.a)(i,2),j=l[0],d=l[1],b=Object(c.useState)(""),u=Object(s.a)(b,2),h=u[0],O=u[1],p=Object(c.useState)([]),f=Object(s.a)(p,2),x=f[0],g=f[1],m=D();return Object(r.jsxs)("div",{className:m.searchForm,children:[Object(r.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.postWord({keyword:a,genre:x.code,lat:j,lng:h})},children:[Object(r.jsx)(z,{genres:e.genres,setSearchGenre:g,searchGenre:x}),Object(r.jsx)(k,{setSearchKeyword:o,searchKeyword:a}),Object(r.jsx)(R,{}),Object(r.jsx)(G,{setSearchLat:d,setSearchLng:O,searchLat:j})]}),Object(r.jsx)(S.a,{onClick:function(){o(""),g(""),d(""),O("")},children:"delete"})]})},q=n(59),I=n(187),J=n(188),A=n(189),Y=n(206),Q=n(193),U=n(191),V=n(192),X=n(190),Z=n(186),$=Object(u.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper,marginTop:"8px"},gridList:{width:1e3,paddingBottom:100},icon:{color:"#004d40"},button:{color:"#fff"}}})),ee=a.a.forwardRef((function(e,t){return Object(r.jsx)(Z.a,Object(q.a)({direction:"up",ref:t},e))})),te=function(e){var t=$(),n=Object(c.useState)(!1),a=Object(s.a)(n,2),o=a[0],i=a[1],l=Object(c.useState)(0),j=Object(s.a)(l,2),d=j[0],b=j[1],u=e.shops,h="https://maps.google.com/maps?q=".concat(u[d].lat,",").concat(u[d].lng),O=function(){i(!1),b(0)};return Object(r.jsxs)("div",{className:t.root,children:[Object(r.jsx)(I.a,{cellHeight:150,className:t.gridList,spacing:10,cols:3,children:u.map((function(e,n){return Object(r.jsxs)(J.a,{children:[Object(r.jsx)("img",{srcSet:e.photo.pc.l,alt:e.name}),Object(r.jsx)(A.a,{title:e.name,actionIcon:Object(r.jsx)(S.a,{onClick:function(){return function(e){i(!0),b(e)}(n)},className:t.button,children:"\u8a73\u7d30"})})]},e.id)}))}),Object(r.jsxs)(Y.a,{TransitionComponent:ee,keepMounted:!0,onClose:O,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",maxWidth:"xl",fullwidth:"true",open:o,children:[Object(r.jsx)(X.a,{id:"alert-dialog-slide-title",children:u[d].name}),Object(r.jsx)(U.a,{children:Object(r.jsxs)(V.a,{id:"alert-dialog-slide-description",children:["\u4f4f\u6240\uff1a",u[d].address," \xa0",Object(r.jsx)("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:t.icon,children:"\u2192googleMap"}),Object(r.jsx)("br",{}),"\u55b6\u696d\u6642\u9593\uff1a",u[d].open," ",Object(r.jsx)("br",{}),"wifi\uff1a",u[d].wifi]})}),Object(r.jsxs)(Q.a,{children:[Object(r.jsx)(S.a,{onClick:O,color:"primary",children:"Disagree"}),Object(r.jsx)(p.a,{children:Object(r.jsx)("a",{id:"urlButton",href:u[d].urls.pc,target:"_blank",rel:"noopener noreferrer",className:t.icon,children:"\u2192HotPepper"})})]})]})]})},ne=n(194),re=n(195),ce=n(197),ae=n(196),oe=Object(u.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper,marginTop:"8px"},icon:{color:"#004d40"},cover:{width:80,height:80},details:{width:"calc(100% - 120px)",flexWrap:"nowrap",overflow:"hidden"},content:{textOverflow:"ellipsis",overflow:"hidden"},list:{display:"flex"},button:{color:"#000"}}})),ie=a.a.forwardRef((function(e,t){return Object(r.jsx)(Z.a,Object(q.a)({direction:"up",ref:t},e))})),se=function(e){var t=oe(),n=Object(c.useState)(!1),a=Object(s.a)(n,2),o=a[0],i=a[1],l=Object(c.useState)(0),j=Object(s.a)(l,2),d=j[0],b=j[1],u=e.shops,h="https://maps.google.com/maps?q=".concat(u[d].lat,",").concat(u[d].lng),O=function(){i(!1),b(0)};return Object(r.jsxs)("div",{className:t.root,children:[Object(r.jsx)(ne.a,{direction:"column",children:u.map((function(e,n){return Object(r.jsxs)(re.a,{className:t.list,children:[Object(r.jsx)(ae.a,{className:t.cover,image:e.photo.pc.l,title:e.name}),Object(r.jsx)("div",{className:t.details,children:Object(r.jsxs)(ce.a,{className:t.content,children:[Object(r.jsx)(p.a,{children:e.name}),Object(r.jsx)(S.a,{onClick:function(){return function(e){i(!0),b(e)}(n)},className:t.button,children:"\u8a73\u7d30"})]})})]},e.id)}))}),Object(r.jsxs)(Y.a,{TransitionComponent:ie,keepMounted:!0,onClose:O,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",maxWidth:"xl",fullwidth:"true",open:o,children:[Object(r.jsx)(X.a,{id:"alert-dialog-slide-title",children:u[d].name}),Object(r.jsx)(U.a,{children:Object(r.jsxs)(V.a,{id:"alert-dialog-slide-description",children:["\u4f4f\u6240\uff1a",u[d].address," \xa0",Object(r.jsx)("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:t.icon,children:"\u2192googleMap"}),Object(r.jsx)("br",{}),"\u55b6\u696d\u6642\u9593\uff1a",u[d].open," ",Object(r.jsx)("br",{}),"wifi\uff1a",u[d].wifi]})}),Object(r.jsxs)(Q.a,{children:[Object(r.jsx)(S.a,{onClick:O,color:"primary",children:"Disagree"}),Object(r.jsx)(p.a,{children:Object(r.jsx)("a",{id:"urlButton",href:u[d].urls.pc,target:"_blank",rel:"noopener noreferrer",className:t.icon,children:"\u2192HotPepper"})})]})]})]})},le=function(e){var t=e.shops,n=Object(c.useState)(window.innerWidth),a=Object(s.a)(n,2),o=a[0],i=a[1],l=function(){i(window.innerWidth)};return Object(c.useEffect)((function(){return window.addEventListener("resize",l,{capture:!1,passive:!0}),function(){return window.removeEventListener("resize",l)}})),o<768?Object(r.jsx)(se,{shops:t}):Object(r.jsx)(te,{shops:t})},je=n(198),de=n(80),be=n.n(de),ue=function(e){return Object(r.jsx)(je.a,{style:{margin:0,top:"auto",right:20,bottom:80,left:"auto",position:"fixed",backgroudColor:"#ddd"},onClick:function(){console.log(e.refTop.current);var t=e.refTop.current.getBoundingClientRect().top;window.scrollTo({top:t,behavior:"smooth"})},children:Object(r.jsx)(be.a,{})})},he=(n(84),n(201)),Oe=n(200),pe=n(81),fe=n(199),xe=(n(134),Object(pe.a)({typography:{fontFamily:"'Corben', sans-serif"}})),ge=Object(u.a)((function(e){return{root:{height:"100vh"},bodyContainer:{color:"#004d40"},shopBox:{marginBottom:"8px"}}})),me=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)([]),i=Object(s.a)(o,2),l=i[0],j=i[1],u=Object(c.useRef)(),h=ge();Object(c.useEffect)((function(){b().then((function(e){j(e)}))}),[]);return Object(r.jsxs)(he.a,{className:h.root,children:[Object(r.jsxs)(fe.a,{theme:xe,children:[Object(r.jsx)("div",{display:"none",ref:u}),Object(r.jsx)(v,{}),Object(r.jsxs)(Oe.a,{className:h.bodyContainer,children:[Object(r.jsx)(F,{postWord:function(e){console.log(e),d(e).then((function(e){var t=e.filter((function(e){return"\u5168\u9762\u7981\u7159"!==e.non_smoking}));0===t.length?a(null):a(t)})).catch((function(e){console.error("error")}))},genres:l}),Object(r.jsx)("div",{className:h.shopBox,children:null!==n?0==n.length?Object(r.jsx)("p",{children:"\u30e4\u30cb\u5207\u308c"}):Object(r.jsx)(le,{shops:n}):Object(r.jsx)("p",{children:"\u8a72\u5f53\u3059\u308b\u304a\u5e97\u3092\u898b\u3064\u3051\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u3002\u3002"})})]}),Object(r.jsx)(y,{})]}),Object(r.jsx)(ue,{refTop:u})]})};i.a.render(Object(r.jsx)(me,{}),document.getElementById("root"))}},[[135,1,2]]]);
//# sourceMappingURL=main.8dfaffea.chunk.js.map